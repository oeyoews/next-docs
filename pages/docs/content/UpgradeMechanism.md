---
title: '升级机制'
---

1. 开启 upgrade.html
1. 引入一个 `$:/UpgradeLibrary` 数据条目，此升级库包含所有插件的最新兼容版本
1. 拖进旧的维基文件
1. 将条目放入数据条目 `$:/Import`，类型为"等待导入"
1. 开始处理导入的每一条目
    1. 每个''升级器''模块有机会检查传入的条目
    1. 升级模块可以为每一个条目触发动作：
        * 显示警示消息
        * 不导入
        * 从升级库替换为另一条目
        * 停用不兼容的插件
1. 通过新的查看样板段，显示新创建的等待导入条目
    1. 显示有效负载条目为名称的清单和复选框、并用下拉清单显示条目的全部详情
    1. 也许我们为显示小工具后面的数据条目，还抑制了惯用的 JSON 显示
1. 用户可以调整选择复选框
1. 按一下''升级''，从''等待导入''解包选定的条目
1. 等待导入条目和从后续保存操作中排除的升级库条目
